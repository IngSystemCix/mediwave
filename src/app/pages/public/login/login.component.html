<div
  class="w-full h-full bg-gradient-to-br from-sky-50 to-cyan-100 dark:from-slate-800 dark:to-gray-900 flex justify-center items-center"
>
  <form
    [formGroup]="loginForm"
    method="post"
    class="rounded-lg flex flex-col p-6 space-y-4 bg-white dark:bg-gray-900 max-w-2xl w-full mx-6 shadow-lg"
  >
    <div class="flex flex-col justify-center items-center">
      <div
        class="bg-cyan-600 p-1 rounded-full text-white aspect-square flex justify-center items-center"
      >
        <i class="bi bi-activity text-5xl font-bold"></i>
      </div>
      <h1 class="text-2xl font-bold text-cyan-600 dark:text-gray-100">
        MediWave
      </h1>
      <small class="text-gray-500">Sistema de Gestión de Citas Médicas</small>
    </div>
    <label class="flex flex-col space-y-2">
      <span class="font-bold text-gray-900 dark:text-gray-100">DNI</span>
      <input
        id="name"
        type="text"
        name="dni"
        formControlName="dni"
        class="w-full p-2 border border-gray-300 rounded-lg outline-cyan-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"
        placeholder="12345678"
        inputmode="numeric"
        pattern="[0-9]*"
        (input)="dniInput($event)"
        maxlength="8"
      />
      @if (loginForm.get('dni')?.invalid && loginForm.get('dni')?.touched) { @if
      (loginForm.get('dni')?.errors?.['required']) {
      <span class="text-red-500">DNI es requerido</span>
      } @if (loginForm.get('dni')?.errors?.['pattern']) {
      <span class="text-red-500">DNI debe ser un número</span>
      } @if (loginForm.get('dni')?.errors?.['minlength']) {
      <span class="text-red-500">DNI debe tener 8 caracteres</span>
      } }
    </label>
    <label class="flex flex-col space-y-2">
      <span class="font-bold text-gray-900 dark:text-gray-100"
        >Dígito Verificador</span
      >
      <input
        id="digitVerification"
        type="text"
        name="digitVerification"
        formControlName="digitVerification"
        class="w-full p-2 border border-gray-300 rounded-lg outline-cyan-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"
        placeholder="1"
        inputmode="numeric"
        maxlength="1"
        pattern="[0-9]"
        (input)="digitVerificationInput($event)"
      />
      @if (loginForm.get('digitVerification')?.invalid &&
      loginForm.get('digitVerification')?.touched) { @if
      (loginForm.get('digitVerification')?.errors?.['required']) {
      <span class="text-red-500">Dígito Verificador es requerido</span>
      } @if (loginForm.get('digitVerification')?.errors?.['pattern']) {
      <span class="text-red-500">Dígito Verificador debe ser un número</span>
      } @if (loginForm.get('digitVerification')?.errors?.['minlength']) {
      <span class="text-red-500">Dígito Verificador debe tener 1 carácter</span>
      } }
    </label>
    <label class="flex flex-col space-y-2">
      <span class="font-bold text-gray-900 dark:text-gray-100"
        >Fecha de nacimiento</span
      >
      <input
        id="birthdate"
        type="date"
        name="birthdate"
        formControlName="birthdate"
        class="w-full p-2 border border-gray-300 rounded-lg outline-cyan-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"
      />
      @if (loginForm.get('birthDate')?.invalid &&
      loginForm.get('birthDate')?.touched) { @if
      (loginForm.get('birthDate')?.errors?.['required']) {
      <span class="text-red-500">Fecha de nacimiento es requerido</span>
      } }
    </label>
    <label class="flex flex-col space-y-2">
      <span class="font-bold text-gray-900 dark:text-gray-100">Contraseña</span>
      <div class="relative">
        <input
          id="password"
          type="password"
          name="password"
          formControlName="password"
          class="w-full block p-2 border border-gray-300 rounded-lg outline-cyan-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"
          placeholder="••••••••"
        />

        <button
          id="togglePassword"
          type="button"
          data-hs-toggle-password='{ "target": "#password" }'
          class="absolute inset-y-0 end-0 flex items-center pointer-events-auto z-10 p-3.5 cursor-pointer text-gray-900 dark:text-gray-100"
        >
          <i class="bi bi-eye-slash-fill hs-password-active:block hidden"></i>
          <i class="bi bi-eye-fill hs-password-active:hidden"></i>
        </button>
      </div>
      @if (loginForm.get('password')?.invalid &&
      loginForm.get('password')?.touched) { @if
      (loginForm.get('password')?.errors?.['required']) {
      <span class="text-red-500">Contraseña es requerido</span>
      } @if (loginForm.get('password')?.errors?.['minlength']) {
      <span class="text-red-500"
        >Contraseña debe tener al menos 8 caracteres</span
      >
      } }
    </label>
    <div class="w-full flex justify-between items-center">
      <label class="flex space-x-2 items-center">
        <input
          type="checkbox"
          id="rememberMe"
          name="rememberMe"
          name="rememberMe"
          formControlName="rememberMe"
          class="h-5 w-5 rounded-md border-gray-300 bg-white accent-cyan-600 shadow-sm transition-all hover:ring-2 hover:ring-cyan-500 focus:ring-2 focus:ring-cyan-600 dark:bg-gray-900 dark:border-gray-600"
        />

        <span class="text-gray-900 dark:text-gray-100">Recordar sesión</span>
      </label>
      <a href="recover-password" class="text-cyan-600 dark:text-cyan-500 text-nowrap">¿Olvidaste tu contraseña?</a>
    </div>
    <button
      type="submit"
      class="w-full p-2 bg-cyan-600 hover:bg-cyan-700 text-white dark:text-gray-900 rounded-lg font-bold"
      [disabled]="loginForm.invalid"
    >
      Iniciar sesión
    </button>
  </form>
</div>
